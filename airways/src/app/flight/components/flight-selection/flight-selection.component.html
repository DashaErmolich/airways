<div class="flight-selection-container" *ngIf="flight">
  <div class="flight-selection__title">
    <mat-icon svgIcon="plane" [ngClass]="{'icon_rotate-180': flightTypeIndex === 2}"></mat-icon>
    <h2>From {{ flight.form.city }} to {{ flight.to.city }}</h2>
  </div>

  <app-calendar-slider
    [searchData]="searchData"
    [flight]="flight"
    [flightTypeIndex]="flightTypeIndex"
  ></app-calendar-slider>

  <div class="flight-selection__data" *ngIf="isValidDate(flight.takeoffDate)">
    <div class="flight-selection__flights-description">
      <app-flight-description
        [flight]="flight"
        [flightTypeIndex]="flightTypeIndex"
      ></app-flight-description>
    </div>

    <div class="flight-price-container">
      <span [appFlightAvailableSeats]="flight.seats" [appFlightAvailableSeatsStyle]="'background-color'">{{ flight.seats.avaible }} seats <br> available</span>
      <span class="color-gray">Price</span>
      <span class="flight-price_active">{{ flight.price | currencyValue:(currency$ | async)! | currency:(currency$ | async)! }}</span>
    </div>

    <button mat-raised-button color="primary" *ngIf="!flightSelected && isValidDate(flight.takeoffDate)" (click)="toggleFlightSelection()">Select</button>
    <button mat-button color="primary" *ngIf="flightSelected" (click)="toggleFlightSelection()">Edit</button>
  </div>

  <span *ngIf="!isValidDate(flight.takeoffDate)" class="error-message">Sorry, there are no available flights on {{ flight.takeoffDate | date }}. Choose another date.</span>
</div>

