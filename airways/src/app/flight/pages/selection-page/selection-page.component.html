<app-flight-info (toggleSearchFormVisibilityEvent)="toggleSearchFormVisibility($event)"></app-flight-info>

<div class="container">
  <span *ngIf="isLoading$ | async">Loading...</span>

  <span *ngIf="error$ | async"></span>

  <div *ngIf="(isLoading$ | async) === false">
    <app-search-form *ngIf="isSearchFormVisible"></app-search-form>

    <app-flight-selection [responseIndex]="flightsResponseIndexes.OneWayFlightResponseIndex"></app-flight-selection>
    <app-flight-selection *ngIf="(searchData$ | async)!.isRoundTrip" [responseIndex]="flightsResponseIndexes.ReturnFlightResponseIndex"></app-flight-selection>

    <div class="">
      <button mat-raised-button (click)="goBack()">
        Back
      </button>
      <span *ngIf="(isAuth$ | async) === false" class="error-message">You must be signed in the app to continue</span>
      <button mat-raised-button color="primary" routerLink="/booking" *ngIf="isAuth$ | async">
        Continue
      </button>
    </div>
  </div>

</div>
